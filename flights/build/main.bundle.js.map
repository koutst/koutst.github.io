{"version":3,"sources":["webpack:///webpack/bootstrap 0e3a932e4e6ccbe514ca","webpack:///./lib/map_visualization.js"],"names":["xhr","XMLHttpRequest","url","fetch","then","data","catch","error","xmlDocument","responseXML","console","log","margin","top","left","right","down","height","width","zoom","d3","scaleExtent","on","zoomed","svg","select","append","attr","rectSVG","gMap","rectGMap","projection","geoOrthographic","translate","rotate","scale","rectZoom","style","call","d","event","transform","queue","defer","json","csv","await","ready","path","geoPath","intSpeed","countriesData","airportsData","flightData","countriesParsed","topojson","feature","objects","countries","features","selectAll","enter","text","properties","NAME","CONTINENT","GDP_MD_EST","remove","airports","airportsNameCoord","i","length","iata","iata_code","coord","geometry","coordinates","flights","orgAir","destAir","depTime","push","transition","plane","route","l","node","getTotalLength","duration","attrTween","translateAttr","a","t","p","getPointAtLength","po","x","y","timer","interval","minutes","hours","currFlight","Object","assign","parseInt","DEP_TIME","datum","type","DESTCOORD","time","setInterval","pointRadius","name","clearInterval","speed"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA;AACA;;AAEA,CAAC,YAAU;;AAET,MAAIA,MAAM,IAAIC,cAAJ,EAAV;AACA,MAAMC,MAAM,2FAAZ;AACA;AACA;;AAEAC,QAAMD,GAAN,EACCE,IADD,CACM,UAASC,IAAT,EAAe;AACnB;AACA,WAAO,IAAP;AACC,GAJH,EAKCC,KALD,CAKO,UAASC,KAAT,EAAgB;AACrB;AACD,GAPD;;AASAC,gBAAcR,IAAIS,WAAlB;AACAC,UAAQC,GAAR,CAAYH,WAAZ;;AAEA,MAAII,SAAS,EAAEC,KAAK,CAAP,EAAUC,MAAM,CAAhB,EAAmBC,OAAO,CAA1B,EAA6BC,MAAM,CAAnC,EAAb;AAAA,MACEC,SAAS,MAAML,OAAOC,GAAb,GAAmBD,OAAOI,IADrC;AAAA,MAEEE,QAAQ,OAAON,OAAOE,IAAd,GAAqBF,OAAOG,KAFtC;;AAIA,MAAII,OAAOC,GAAGD,IAAH,GACRE,WADQ,CACI,CAAC,CAAD,EAAI,CAAJ,CADJ,EAERC,EAFQ,CAEL,MAFK,EAEGC,MAFH,CAAX;;AAIA;AACA;AACA;AACA;;AAEA,MAAIC,MAAMJ,GAAGK,MAAH,CAAU,MAAV,EACGC,MADH,CACU,KADV,EAEGC,IAFH,CAEQ,QAFR,EAEkBV,SAASL,OAAOC,GAAhB,GAAsBD,OAAOI,IAF/C,EAGGW,IAHH,CAGQ,OAHR,EAGiBT,QAAQN,OAAOE,IAAf,GAAsBF,OAAOG,KAH9C,CAAV;;AAMA,MAAIa,UAAUJ,IAAIE,MAAJ,CAAW,SAAX,EACKC,IADL,CACU,OADV,EACmB,UADnB,EAEKA,IAFL,CAEU,QAFV,EAEoBV,SAASL,OAAOC,GAAhB,GAAsBD,OAAOI,IAFjD,EAGKW,IAHL,CAGU,OAHV,EAGmBT,QAAQN,OAAOE,IAAf,GAAsBF,OAAOG,KAHhD,CAAd;;AAMA,MAAIc,OAAOL,IAAIE,MAAJ,CAAW,GAAX,EACIC,IADJ,CACS,OADT,EACkB,OADlB,EAEIA,IAFJ,CAES,WAFT,EAEsB,eAAcf,OAAOE,IAArB,GAA4B,GAA5B,GAAkCF,OAAOC,GAAzC,GAA8C,GAFpE,CAAX;AAGA;AACA;AACA;AACA;AACA;;AAEA,MAAIiB,WAAWD,KAAKH,MAAL,CAAY,MAAZ,EACAC,IADA,CACK,OADL,EACc,YADd,EAEAA,IAFA,CAEK,QAFL,EAEe,IAFf,EAGAA,IAHA,CAGK,OAHL,EAGcT,QAAQN,OAAOE,IAAf,GAAsBF,OAAOG,KAH3C,EAIAY,IAJA,CAIK,WAJL,EAIkB,eAAcf,OAAOE,IAArB,GAA4B,GAA5B,GAAkC,CAAC,GAAnC,GAAwC,GAJ1D,CAAf;;AAMA,MAAIiB,aAAaX,GAAGY,eAAH,GACFC,SADE,CACQ,CAAEf,QAAQ,CAAV,EAAaD,SAAS,CAAtB,CADR,EAEFiB,MAFE,CAEK,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAFL,EAGFC,KAHE,CAGI,GAHJ,CAAjB;;AAKA,MAAIC,WAAWZ,IAAIE,MAAJ,CAAW,MAAX,EACArB,IADA,CACK,CAAC0B,UAAD,CADL,EAEAJ,IAFA,CAEK,OAFL,EAEc,WAFd,EAGAA,IAHA,CAGK,QAHL,EAGeV,SAASL,OAAOC,GAAhB,GAAsBD,OAAOI,IAH5C,EAIAW,IAJA,CAIK,OAJL,EAIcT,QAAQN,OAAOE,IAAf,GAAsBF,OAAOG,KAJ3C,EAKAsB,KALA,CAKM,MALN,EAKc,MALd,EAMAA,KANA,CAMM,gBANN,EAMwB,KANxB,EAOAC,IAPA,CAOKnB,IAPL,EAQEG,EARF,CAQK,gBARL,EAQuB,UAASiB,CAAT,EAAW;AAC/B;AACA;AACD,GAXF,EAYEjB,EAZF,CAYK,iBAZL,EAYwB,IAZxB,EAaEA,EAbF,CAaK,gBAbL,EAauB,IAbvB,EAcEA,EAdF,CAcK,eAdL,EAcsB,IAdtB,CAAf;;AAiBE,WAASC,MAAT,GAAkB;AAChBM,SAAKF,IAAL,CAAU,WAAV,EAAuBP,GAAGoB,KAAH,CAASC,SAAhC;AACD;;AAEDrB,KAAGsB,KAAH,GACGC,KADH,CACSvB,GAAGwB,IADZ,EACkB,oBADlB,EAEGD,KAFH,CAESvB,GAAGwB,IAFZ,EAEkB,mBAFlB,EAGGD,KAHH,CAGSvB,GAAGyB,GAHZ,EAGiB,aAHjB,EAIGC,KAJH,CAISC,KAJT;;AAUA,MAAIC,OAAO5B,GAAG6B,OAAH,GACRlB,UADQ,CACGA,UADH,CAAX;;AAGA,MAAImB,WAAW,GAAf;;AAGA,WAASH,KAAT,CAAexC,KAAf,EAAsB4C,aAAtB,EAAqCC,YAArC,EAAmDC,UAAnD,EAA+D;AAC7D;AACA,QAAIC,kBAAkBC,SAASC,OAAT,CAAiBL,aAAjB,EAAgCA,cAAcM,OAAd,CAAsBC,SAAtD,EAAiEC,QAAvF;;AAEA9B,SAAK+B,SAAL,CAAe,UAAf,EACGvD,IADH,CACQiD,eADR,EAEGO,KAFH,GAGGnC,MAHH,CAGU,MAHV,EAIGC,IAJH,CAIQ,OAJR,EAIiB,SAJjB,EAKGA,IALH,CAKQ,GALR,EAKaqB,IALb,EAMG1B,EANH,CAMM,WANN,EAMmB,UAASiB,CAAT,EAAW;AAC1BnB,SAAGK,MAAH,CAAU,IAAV,EACCE,IADD,CACM,OADN,EACe,eADf,EAECA,IAFD,CAEM,MAFN,EAEc,OAFd;;AAIAP,SAAGK,MAAH,CAAU,MAAV,EACCC,MADD,CACQ,MADR,EAECC,IAFD,CAEM,OAFN,EAEe,gBAFf,EAGCmC,IAHD,CAIE,cAAcvB,EAAEwB,UAAF,CAAaC,IAJ7B;AAMA5C,SAAGK,MAAH,CAAU,MAAV,EACCC,MADD,CACQ,MADR,EAECC,IAFD,CAEM,OAFN,EAEe,gBAFf,EAGCmC,IAHD,CAIE,gBAAgBvB,EAAEwB,UAAF,CAAaE,SAJ/B;AAMA7C,SAAGK,MAAH,CAAU,MAAV,EACCC,MADD,CACQ,MADR,EAECC,IAFD,CAEM,OAFN,EAEe,gBAFf,EAGCmC,IAHD,CAIE,wBAAwBvB,EAAEwB,UAAF,CAAaG,UAJvC;AAMD,KA7BH,EA8BG5C,EA9BH,CA8BM,UA9BN,EA8BkB,UAASiB,CAAT,EAAW;AACzBnB,SAAGwC,SAAH,CAAa,qBAAb,EAAoCO,MAApC;AACA/C,SAAGwC,SAAH,CAAa,gBAAb,EACCjC,IADD,CACM,OADN,EACe,SADf;AAED,KAlCH;;AAuCA,QAAIyC,WAAWb,SAASC,OAAT,CAAiBJ,YAAjB,EAA+BA,aAAaK,OAAb,CAAqBW,QAApD,EAA8DT,QAA7E;;AAGA,QAAIU,oBAAoB,EAAxB;;AAEA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,SAASG,MAA7B,EAAqCD,GAArC,EAA0C;AACxC,UAAIE,OAAOJ,SAASE,CAAT,EAAYP,UAAZ,CAAuBU,SAAlC;AACA,UAAIC,QAAQN,SAASE,CAAT,EAAYK,QAAZ,CAAqBC,WAAjC;AACAP,wBAAkBG,IAAlB,IAA0B,EAACE,OAAOA,KAAR,EAA1B;AACD;;AAED,QAAIG,UAAU,EAAd;AACA,SAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAIjB,WAAWkB,MAA/B,EAAuCD,GAAvC,EAA4C;AAC1CQ,eAASzB,WAAWiB,CAAX,EAAc,QAAd,CAAT;AACAS,gBAAU1B,WAAWiB,CAAX,EAAc,MAAd,CAAV;AACAU,gBAAU3B,WAAWiB,CAAX,EAAc,UAAd,CAAV;AACA,UAAID,kBAAkBS,MAAlB,KAA6BT,kBAAkBU,OAAlB,CAA7B,IAA2DC,OAA/D,EAAwE;AACtE3B,mBAAWiB,CAAX,EAAc,MAAd,IAAwB,OAAxB;AACAjB,mBAAWiB,CAAX,EAAc,aAAd,IAA+BD,kBAAkBS,MAAlB,EAA0B,OAA1B,CAA/B;AACAzB,mBAAWiB,CAAX,EAAc,WAAd,IAA6BD,kBAAkBU,OAAlB,EAA2B,OAA3B,CAA7B;AACAF,gBAAQI,IAAR,CAAa5B,WAAWiB,CAAX,CAAb;AACD;AACF;;AAED,aAASY,UAAT,CAAoBC,KAApB,EAA2BC,KAA3B,EAAkC;AAChC,UAAIC,IAAID,MAAME,IAAN,GAAaC,cAAb,EAAR;AACAJ,YAAMxD,IAAN,CAAW,SAAX,EAAsB,CAAtB,EACOuD,UADP,GAEOM,QAFP,CAEgB,KAAGJ,MAAME,IAAN,GAAaC,cAAb,EAFnB,EAGOE,SAHP,CAGiB,WAHjB,EAG8BC,cAAcN,MAAME,IAAN,EAAd,CAH9B,EAIO3D,IAJP,CAIY,GAJZ,EAIiBqB,IAJjB,EAKOmB,MALP;AAOD;;AAED,aAASuB,aAAT,CAAuB1C,IAAvB,EAA6B;AAC3B,UAAIqC,IAAIrC,KAAKuC,cAAL,EAAR;AACA,aAAO,UAAShD,CAAT,EAAY+B,CAAZ,EAAeqB,CAAf,EAAkB;AACvB,eAAO,UAASC,CAAT,EAAY;AACjB,cAAIC,IAAI7C,KAAK8C,gBAAL,CAAsBF,IAAIP,CAA1B,CAAR;AACA,cAAIU,KAAK/C,KAAK8C,gBAAL,CAAsB,CAAtB,CAAT;AACA,iBAAO,gBAAgBD,EAAEG,CAAF,GAAID,GAAGC,CAAvB,IAA4B,GAA5B,IAAmCH,EAAEI,CAAF,GAAIF,GAAGE,CAA1C,IAA+C,GAAtD;AACD,SAJD;AAKD,OAND;AAOD;;AAED,QAAIC,QAAQ,CAAZ;;AAEA,QAAMC,WAAW,SAAXA,QAAW,GAAU;AACzB;AACAtE,WAAK+B,SAAL,CAAe,QAAf,EAAyBO,MAAzB;AACA,UAAIiC,UAAUF,QAAM,GAApB;AACA,UAAIG,QAAQ,CAACH,QAAME,OAAP,IAAgB,GAA5B;AACA,UAAIC,QAAQ,EAAR,IAAcD,UAAU,EAA5B,EAAgC;AAC9BvE,aAAKH,MAAL,CAAY,MAAZ,EACCC,IADD,CACM,OADN,EACe,OADf,EAECmC,IAFD,CAEM,oBAAmBuC,KAAnB,GAA2B,IAA3B,GAAkCD,OAFxC;AAID,OALD,MAKM,IAAIC,QAAQ,EAAZ,EAAgB;AACpBxE,aAAKH,MAAL,CAAY,MAAZ,EACCC,IADD,CACM,OADN,EACe,OADf,EAECmC,IAFD,CAEM,oBAAmBuC,KAAnB,GAA2B,GAA3B,GAAiCD,OAFvC;AAGD,OAJK,MAIC,IAAIA,UAAU,EAAd,EAAkB;AACvBvE,aAAKH,MAAL,CAAY,MAAZ,EACCC,IADD,CACM,OADN,EACe,OADf,EAECmC,IAFD,CAEM,mBAAkBuC,KAAlB,GAA0B,IAA1B,GAAiCD,OAFvC;AAGD,OAJM,MAIA;AACLvE,aAAKH,MAAL,CAAY,MAAZ,EACCC,IADD,CACM,OADN,EACe,OADf,EAECmC,IAFD,CAEM,mBAAkBuC,KAAlB,GAA0B,GAA1B,GAAgCD,OAFtC;AAGD;AACDvE,WAAK+B,SAAL,CAAe,QAAf,EACCjC,IADD,CACM,QADN,EACgB,CADhB,EAECA,IAFD,CAEM,OAFN,EAEe,EAFf;;AAIA,WAAK,IAAI2C,IAAI,CAAb,EAAgBA,IAAIO,QAAQN,MAAR,GAAe,CAAnC,EAAsCD,GAAtC,EAA2C;AACzC;AACA,YAAIgC,aAAaC,OAAOC,MAAP,CAAc,EAAd,EAAkB3B,QAAQP,CAAR,CAAlB,CAAjB;AACA;AACA,YAAImC,SAAS5B,QAAQP,CAAR,EAAWoC,QAApB,MAAkCR,KAAtC,EAA6C;AAC3ChB,qBACErD,KAAK8E,KAAL,CAAWL,UAAX,EACK5E,MADL,CACY,MADZ,EAEKC,IAFL,CAEU,OAFV,EAEmB,OAFnB,EAGKA,IAHL,CAGU,MAHV,EAGkB,KAHlB,EAIKA,IAJL,CAIU,GAJV,EAIeqB,IAJf,EAKKrB,IALL,CAKU,cALV,EAK0B,GAL1B,CADF,EAQEE,KAAK8E,KAAL,CAAW,EAACC,MAAM,YAAP,EAAqBhC,aAAa,CAACC,QAAQP,CAAR,EAAWM,WAAZ,EAAyBC,QAAQP,CAAR,EAAWuC,SAApC,CAAlC,EAAX,EACKnF,MADL,CACY,MADZ,EAEKC,IAFL,CAEU,OAFV,EAEmB,OAFnB,EAGKA,IAHL,CAGU,GAHV,EAGeqB,IAHf,EAIKrB,IAJL,CAIU,SAJV,EAIqB,GAJrB,EAKKA,IALL,CAKU,MALV,EAKkB,MALlB,EAMKA,IANL,CAMU,cANV,EAM0B,IAN1B,EAOKA,IAPL,CAOU,QAPV,EAOoB,UAPpB,EAQKuD,UARL,GASKM,QATL,CASc,IATd,EAUKrB,MAVL,EARF;AAmBD;AAEF;AACD+B,eAAS,CAAT;AACA,UAAIA,QAAM,GAAN,IAAa,EAAjB,EAAqB;AACnBA,iBAAS,MAAMA,QAAM,GAArB;AACD;AACD,UAAIA,SAAS,IAAb,EAAmB;AACjBA,gBAAQ,CAAR;AACD;AACF,KA7DD;;AAgEA,QAAIY,OAAOC,YACTZ,QADS,EACCjD,QADD,CAAX;;AAGArB,SAAK+B,SAAL,CAAe,UAAf,EACCvD,IADD,CACM+D,QADN,EAECP,KAFD,GAGCnC,MAHD,CAGQ,MAHR,EAICC,IAJD,CAIM,OAJN,EAIe,SAJf,EAKCA,IALD,CAKM,GALN,EAKWqB,KAAKgE,WAAL,CAAiB,GAAjB,CALX;AAMA;AANA,KAOC1F,EAPD,CAOI,WAPJ,EAOiB,UAASiB,CAAT,EAAW;AAC1B;AACAnB,SAAGK,MAAH,CAAU,IAAV,EACCE,IADD,CACM,OADN,EACe,eADf,EAECA,IAFD,CAEM,QAFN,EAEgB,MAFhB,EAGCA,IAHD,CAGM,cAHN,EAGsB,GAHtB,EAICA,IAJD,CAIM,MAJN,EAIc,KAJd,EAKCA,IALD,CAKM,GALN,EAKWqB,KAAKgE,WAAL,CAAiB,CAAjB,CALX;;AAOA5F,SAAGK,MAAH,CAAU,MAAV,EACCC,MADD,CACQ,MADR,EAECC,IAFD,CAEM,OAFN,EAEe,gBAFf,EAGCmC,IAHD,CAIE,cAAcvB,EAAEwB,UAAF,CAAakD,IAJ7B;AAMA7F,SAAGK,MAAH,CAAU,MAAV,EACCC,MADD,CACQ,MADR,EAECC,IAFD,CAEM,OAFN,EAEe,gBAFf,EAGCmC,IAHD,CAIE,WAAWvB,EAAEwB,UAAF,CAAaU,SAJ1B;AAMA;AACD,KA7BD;AA8BA;AA9BA,KA+BCnD,EA/BD,CA+BI,UA/BJ,EA+BgB,UAASiB,CAAT,EAAW;AACzBnB,SAAGwC,SAAH,CAAa,qBAAb,EAAoCO,MAApC;;AAEA/C,SAAGwC,SAAH,CAAa,gBAAb,EACCjC,IADD,CACM,OADN,EACe,SADf,EAECA,IAFD,CAEM,GAFN,EAEWqB,KAAKgE,WAAL,CAAiB,GAAjB,CAFX;AAID,KAtCD;;AAyCA5F,OAAGK,MAAH,CAAU,MAAV,EACCC,MADD,CACQ,OADR,EAECC,IAFD,CAEM,MAFN,EAEa,QAFb,EAGCA,IAHD,CAGM,OAHN,EAGc,OAHd,EAICA,IAJD,CAIM,OAJN,EAIc,OAJd,EAKCL,EALD,CAKI,OALJ,EAKa,YAAU;AACnB4F,oBAAcJ,IAAd;AACH,KAPD;;AASA1F,OAAGK,MAAH,CAAU,MAAV,EACCC,MADD,CACQ,OADR,EAECC,IAFD,CAEM,MAFN,EAEa,QAFb,EAGCA,IAHD,CAGM,OAHN,EAGc,MAHd,EAICA,IAJD,CAIM,OAJN,EAIc,MAJd,EAKCL,EALD,CAKI,OALJ,EAKa,YAAU;AACrB4F,oBAAcJ,IAAd;AACAA,aAAOC,YAAYZ,QAAZ,EAAsBjD,QAAtB,CAAP;AACD,KARD;;AAUA,QAAIiE,QAAQ/F,GAAGK,MAAH,CAAU,MAAV,EACXC,MADW,CACJ,MADI,EAEXC,IAFW,CAEN,OAFM,EAEG,OAFH,EAGXmC,IAHW,CAIV,qBAAsBZ,WAAS,IAAV,GAAgB,EAArC,GAA0C,UAJhC,CAAZ;;AAOA9B,OAAGK,MAAH,CAAU,MAAV,EACCC,MADD,CACQ,OADR,EAECC,IAFD,CAEM,MAFN,EAEa,QAFb,EAGCA,IAHD,CAGM,OAHN,EAGc,MAHd,EAICA,IAJD,CAIM,OAJN,EAIc,IAJd,EAKCL,EALD,CAKI,OALJ,EAKa,YAAU;AACrB4B,iBAAWA,WAAS,CAApB;AACA9B,SAAGK,MAAH,CAAU,QAAV,EAAoBqC,IAApB,CACE,qBAAsBZ,WAAS,IAAV,GAAgB,EAArC,GAA0C,UAD5C;AAGAgE,oBAAcJ,IAAd;AACAA,aAAOC,YAAYZ,QAAZ,EAAsBjD,QAAtB,CAAP;AACD,KAZD;;AAcA9B,OAAGK,MAAH,CAAU,MAAV,EACCC,MADD,CACQ,OADR,EAECC,IAFD,CAEM,MAFN,EAEa,QAFb,EAGCA,IAHD,CAGM,OAHN,EAGc,MAHd,EAICA,IAJD,CAIM,OAJN,EAIc,IAJd,EAKCL,EALD,CAKI,OALJ,EAKa,YAAU;AACrB4B,iBAAWA,WAAS,CAApB;AACA9B,SAAGK,MAAH,CAAU,QAAV,EAAoBqC,IAApB,CACE,qBAAsBZ,WAAS,IAAV,GAAgB,EAArC,GAA0C,UAD5C;AAGAgE,oBAAcJ,IAAd;AACAA,aAAOC,YAAYZ,QAAZ,EAAsBjD,QAAtB,CAAP;AACD,KAZD;AAcD;AACJ,CAnWD,I","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0e3a932e4e6ccbe514ca","// document.write(require(\"./geo_math.js\"))\n// module.exports = \"shite\"\n\n(function(){\n\n  var xhr = new XMLHttpRequest();\n  const url = \"https://koutst:AIzaSyCEHgWuIYyTXOzKriLZZgrW8I7DBBZptr8@opensky-network.org/api/states/all\"\n  // xhr.open(\"GET\", url, false);\n  // xhr.send();\n\n  fetch(url)\n  .then(function(data) {\n    debugger\n    return null\n    })\n  .catch(function(error) {\n    // If there is any error you will catch them here\n  });\n\n  xmlDocument = xhr.responseXML;\n  console.log(xmlDocument);\n\n  var margin = { top: 0, left: 0, right: 0, down: 0},\n    height = 750 - margin.top - margin.down,\n    width = 2000 - margin.left - margin.right;\n\n  var zoom = d3.zoom()\n    .scaleExtent([1, 8])\n    .on(\"zoom\", zoomed);\n\n  // var drag = d3.drag()\n  //               .on(\"start\", startDrag)\n  //               .on(\"drag\", dragged)\n  //               .on(\"end\", endDrag)\n\n  let svg = d3.select(\"#map\")\n              .append(\"svg\")\n              .attr(\"height\", height + margin.top + margin.down)\n              .attr(\"width\", width + margin.left + margin.right)\n\n\n  let rectSVG = svg.append(\"pattern\")\n                    .attr(\"class\", \"rect-svg\")\n                    .attr(\"height\", height + margin.top + margin.down)\n                    .attr(\"width\", width + margin.left + margin.right)\n\n\n  let gMap = svg.append(\"g\")\n                .attr(\"class\", \"g-map\")\n                .attr(\"transform\", \"translate(\"+ margin.left + \",\" + margin.top +\")\")\n  //               .call(drag)\n  //\n  // function startDrag(d){\n  //   d3.select(this).\n  // }\n\n  let rectGMap = gMap.append(\"rect\")\n                .attr(\"class\", \"rect-g-map\")\n                .attr(\"height\", 1250)\n                .attr(\"width\", width + margin.left + margin.right)\n                .attr(\"transform\", \"translate(\"+ margin.left + \",\" + -400 +\")\")\n\n  let projection = d3.geoOrthographic()\n                .translate([ width / 2, height / 2 ])\n                .rotate([100, 350, 7])\n                .scale(250);\n\n  let rectZoom = svg.append(\"rect\")\n                .data([projection])\n                .attr(\"class\", \"rect-zoom\")\n                .attr(\"height\", height + margin.top + margin.down)\n                .attr(\"width\", width + margin.left + margin.right)\n                .style(\"fill\", \"none\")\n                .style(\"pointer-events\", \"all\")\n                .call(zoom)\n                  .on(\"mousedown.zoom\", function(d){\n                    // debugger\n                    // d.rotate([50, 0, 0])\n                  })\n                  .on(\"touchstart.zoom\", null)\n                  .on(\"touchmove.zoom\", null)\n                  .on(\"touchend.zoom\", null);\n\n\n    function zoomed() {\n      gMap.attr(\"transform\", d3.event.transform );\n    }\n\n    d3.queue()\n      .defer(d3.json, \"countries.topojson\")\n      .defer(d3.json, \"airports.topojson\")\n      .defer(d3.csv, \"flights.csv\")\n      .await(ready);\n\n\n\n\n\n    var path = d3.geoPath()\n      .projection(projection);\n\n    let intSpeed = 100\n\n\n    function ready(error, countriesData, airportsData, flightData) {\n      // console.log(flightData)\n      var countriesParsed = topojson.feature(countriesData, countriesData.objects.countries).features;\n\n      gMap.selectAll(\".country\")\n        .data(countriesParsed)\n        .enter()\n        .append(\"path\")\n        .attr(\"class\", \"country\")\n        .attr(\"d\", path)\n        .on(\"mouseover\", function(d){\n          d3.select(this)\n          .attr(\"class\", \"activeCountry\")\n          .attr(\"fill\", \"black\");\n\n          d3.select(\".map\")\n          .append(\"text\")\n          .attr(\"class\", \"countrydetails\")\n          .text(\n            \"Country: \" + d.properties.NAME\n          )\n          d3.select(\".map\")\n          .append(\"text\")\n          .attr(\"class\", \"countrydetails\")\n          .text(\n            \"Continent: \" + d.properties.CONTINENT\n          )\n          d3.select(\".map\")\n          .append(\"text\")\n          .attr(\"class\", \"countrydetails\")\n          .text(\n            \"GDP (in millions): \" + d.properties.GDP_MD_EST\n          )\n        })\n        .on(\"mouseout\", function(d){\n          d3.selectAll(\"text.countrydetails\").remove()\n          d3.selectAll(\".activeCountry\")\n          .attr(\"class\", \"country\")\n        });\n\n\n\n\n      let airports = topojson.feature(airportsData, airportsData.objects.airports).features;\n\n\n      let airportsNameCoord = {};\n\n      for (var i = 0; i < airports.length; i++) {\n        let iata = airports[i].properties.iata_code;\n        let coord = airports[i].geometry.coordinates\n        airportsNameCoord[iata] = {coord: coord}\n      }\n\n      let flights = [];\n      for (var i = 0; i < flightData.length; i++) {\n        orgAir = flightData[i][\"ORIGIN\"];\n        destAir = flightData[i][\"DEST\"];\n        depTime = flightData[i][\"DEP_TIME\"]\n        if (airportsNameCoord[orgAir] && airportsNameCoord[destAir] && depTime) {\n          flightData[i][\"type\"] = \"Point\";\n          flightData[i][\"coordinates\"] = airportsNameCoord[orgAir][\"coord\"];\n          flightData[i][\"DESTCOORD\"] = airportsNameCoord[destAir][\"coord\"];\n          flights.push(flightData[i])\n        }\n      }\n\n      function transition(plane, route) {\n        let l = route.node().getTotalLength();\n        plane.attr('opacity', 1)\n              .transition()\n              .duration(10*route.node().getTotalLength())\n              .attrTween(\"transform\", translateAttr(route.node()))\n              .attr(\"d\", path)\n              .remove()\n        ;\n      }\n\n      function translateAttr(path) {\n        var l = path.getTotalLength();\n        return function(d, i, a) {\n          return function(t) {\n            var p = path.getPointAtLength(t * l);\n            var po = path.getPointAtLength(0);\n            return \"translate(\" + (p.x-po.x) + \",\" + (p.y-po.y) + \")\";\n          };\n        };\n      }\n\n      let timer = 0;\n\n      const interval = function(){\n        //\n        gMap.selectAll(\".clock\").remove();\n        let minutes = timer%100;\n        let hours = (timer-minutes)/100;\n        if (hours < 10 && minutes < 10) {\n          gMap.append(\"text\")\n          .attr(\"class\", \"clock\")\n          .text(\"Time (hh/mm): 0\" +hours + \":0\" + minutes );\n\n        }else if (hours < 10) {\n          gMap.append(\"text\")\n          .attr(\"class\", \"clock\")\n          .text(\"Time (hh/mm): 0\" +hours + \":\" + minutes )\n        } else if (minutes < 10) {\n          gMap.append(\"text\")\n          .attr(\"class\", \"clock\")\n          .text(\"Time (hh/mm): \" +hours + \":0\" + minutes )\n        } else {\n          gMap.append(\"text\")\n          .attr(\"class\", \"clock\")\n          .text(\"Time (hh/mm): \" +hours + \":\" + minutes )\n        }\n        gMap.selectAll(\".clock\")\n        .attr(\"height\", 0)\n        .attr(\"width\", 10)\n\n        for (var i = 0; i < flights.length-1; i++) {\n          // let currFlight = {coordinates: flights[i][\"coordinates\"]}\n          let currFlight = Object.assign({}, flights[i])\n          // delete currFlight[\"DESTCOORD\"]\n          if (parseInt(flights[i].DEP_TIME) === timer) {\n            transition(\n              gMap.datum(currFlight)\n                  .append(\"path\")\n                  .attr(\"class\", \"plane\")\n                  .attr(\"fill\", \"red\")\n                  .attr(\"d\", path)\n                  .attr(\"stroke-width\", 0.5)\n              ,\n              gMap.datum({type: \"LineString\", coordinates: [flights[i].coordinates, flights[i].DESTCOORD]})\n                  .append(\"path\")\n                  .attr(\"class\", \"route\")\n                  .attr(\"d\", path)\n                  .attr('opacity', 0.5)\n                  .attr('fill', \"none\")\n                  .attr('stroke-width', 0.01)\n                  .attr('stroke', '\t#00FF00')\n                  .transition()\n                  .duration(1000)\n                  .remove());\n          }\n\n        }\n        timer += 1\n        if (timer%100 >= 60) {\n          timer += 100 - timer%100\n        }\n        if (timer >= 2400) {\n          timer = 0;\n        }\n      }\n\n\n      let time = setInterval(\n        interval, intSpeed)\n\n      gMap.selectAll(\".airport\")\n      .data(airports)\n      .enter()\n      .append(\"path\")\n      .attr(\"class\", \"airport\")\n      .attr(\"d\", path.pointRadius(1.5))\n      // .attr(\"scale\", 100)\n      .on(\"mouseover\", function(d){\n        //\n        d3.select(this)\n        .attr(\"class\", \"activeAirport\")\n        .attr(\"stroke\", \"blue\")\n        .attr(\"stroke-width\", 0.5)\n        .attr(\"fill\", \"red\")\n        .attr(\"d\", path.pointRadius(5));\n\n        d3.select(\".map\")\n        .append(\"text\")\n        .attr(\"class\", \"countrydetails\")\n        .text(\n          \"Airport: \" + d.properties.name\n        )\n        d3.select(\".map\")\n        .append(\"text\")\n        .attr(\"class\", \"countrydetails\")\n        .text(\n          \"IATA: \" + d.properties.iata_code\n        )\n        //\n      })\n      // .on(\"click\", )\n      .on(\"mouseout\", function(d){\n        d3.selectAll(\"text.countrydetails\").remove()\n\n        d3.selectAll(\".activeAirport\")\n        .attr(\"class\", \"airport\")\n        .attr(\"d\", path.pointRadius(1.5));\n\n      });\n\n\n      d3.select(\".map\")\n      .append(\"input\")\n      .attr(\"type\",\"button\")\n      .attr(\"class\",\"pause\")\n      .attr(\"value\",\"Pause\")\n      .on(\"click\", function(){\n          clearInterval(time)\n      });\n\n      d3.select(\".map\")\n      .append(\"input\")\n      .attr(\"type\",\"button\")\n      .attr(\"class\",\"play\")\n      .attr(\"value\",\"Play\")\n      .on(\"click\", function(){\n        clearInterval(time)\n        time = setInterval(interval, intSpeed)\n      });\n\n      let speed = d3.select(\".map\")\n      .append(\"text\")\n      .attr(\"class\", \"speed\")\n      .text(\n        \"Speed: 1 hour = \" + (intSpeed/1000)*60 + \" seconds\"\n      )\n\n      d3.select(\".map\")\n      .append(\"input\")\n      .attr(\"type\",\"button\")\n      .attr(\"class\",\"play\")\n      .attr(\"value\",\"X2\")\n      .on(\"click\", function(){\n        intSpeed = intSpeed/2\n        d3.select(\".speed\").text(\n          \"Speed: 1 hour = \" + (intSpeed/1000)*60 + \" seconds\"\n        )\n        clearInterval(time)\n        time = setInterval(interval, intSpeed)\n      });\n\n      d3.select(\".map\")\n      .append(\"input\")\n      .attr(\"type\",\"button\")\n      .attr(\"class\",\"play\")\n      .attr(\"value\",\"/2\")\n      .on(\"click\", function(){\n        intSpeed = intSpeed*2\n        d3.select(\".speed\").text(\n          \"Speed: 1 hour = \" + (intSpeed/1000)*60 + \" seconds\"\n        )\n        clearInterval(time)\n        time = setInterval(interval, intSpeed)\n      });\n\n    }\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./lib/map_visualization.js"],"sourceRoot":""}